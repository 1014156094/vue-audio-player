import{_ as U,o as m,c as p,a as h,n as g,w as v,t as b,b as I,d as j,T as R,e as w,f as D,r as k,F as E,g as X,h as x,v as L,m as Z,i as ee}from"./index-940a33b1.js";window._iconfont_svg_string_1017934='<svg><symbol id="icon-volume-no" viewBox="0 0 1024 1024"><path d="M625.2544 162.7648v710.144c0 56.7296-70.0416 84.224-109.312 42.9568l-182.4256-166.5536H110.6944c-45.9776 0-83.2-37.2736-83.2-83.2V388.4544c0-44.032 34.3552-80.4864 78.2848-83.0976l5.5808-0.1536 224.9216 3.7376 179.6608-189.1328c39.2704-41.3184 109.3632-13.7728 109.312 42.9568z"  ></path></symbol><symbol id="icon-play-next" viewBox="0 0 1024 1024"><path d="M279.5646875 980.080625L743.06 598.6475 743.06 919.5640625a38.5096875 38.5096875 0 1 0 77.47875 0.916875l0-816.5034375a38.5096875 38.5096875 0 1 0-77.47875 0L743.06 427.64375l-463.4953125-383.7253125a45.845625 45.845625 0 0 0-76.1034375 33.92625L203.46125 946.154375a45.845625 45.845625 0 0 0 76.1034375 33.92625z"  ></path></symbol><symbol id="icon-play-prev" viewBox="0 0 1024 1024"><path d="M744.4353125 43.919375L280.94 425.3525 280.94 104.4359375a38.5096875 38.5096875 0 1 0-77.47875-0.916875l0 816.5034375a38.5096875 38.5096875 0 1 0 77.47875 0L280.94 596.35625l463.4953125 383.7253125a45.845625 45.845625 0 0 0 76.1034375-33.92625L820.53875 77.845625a45.845625 45.845625 0 0 0-76.1034375-33.92625z"  ></path></symbol><symbol id="icon-pause" viewBox="0 0 1024 1024"><path d="M512 1012.62222187C234.38222187 1012.62222187 11.37777813 789.61777813 11.37777813 512S234.38222187 11.37777813 512 11.37777813s500.62222187 223.0044448 500.62222187 500.62222187-223.0044448 500.62222187-500.62222187 500.62222187z m136.53333333-682.66666667c-27.30666667 0-45.51111147 18.2044448-45.51111146 45.51111147v273.06666666c0 27.30666667 18.2044448 45.51111147 45.51111146 45.51111147s45.51111147-18.2044448 45.51111147-45.51111147V375.46666667c0-27.30666667-18.2044448-45.51111147-45.51111147-45.51111147zM375.46666667 329.9555552c-27.30666667 0-45.51111147 18.2044448-45.51111147 45.51111147v273.06666666c0 27.30666667 18.2044448 45.51111147 45.51111147 45.51111147s45.51111147-18.2044448 45.51111146-45.51111147V375.46666667c0-27.30666667-18.2044448-45.51111147-45.51111146-45.51111147z"  ></path></symbol><symbol id="icon-volume" viewBox="0 0 1024 1024"><path d="M1009.6852389 501.04265842v72.84551793c-12.28886699 137.14708366-93.42867683 254.45999047-208.60559588 317.12488904L762.68733667 817.14116381A318.92799715 318.92799715 0 0 0 928.10158763 537.46541682a319.0112165 319.0112165 0 0 0-175.15102891-284.80766635l38.33682717-73.87190158c120.33657856 61.22241365 205.74836509 181.25385159 218.39785301 322.25680953z m-165.69165255 27.96202667a248.96745017 248.96745017 0 0 1-120.17013874 213.51559395l-38.55874617-74.0660827a165.77487189 165.77487189 0 0 0 75.50856761-139.44951125 165.77487189 165.77487189 0 0 0-78.03291762-141.08617842l38.44778667-74.01060238a248.96745017 248.96745017 0 0 1 122.80544825 215.0967808zM625.26285255 162.75206827V872.89877618c0 56.72851683-70.04376747 84.24670094-109.29601764 42.94168462l-182.44667619-166.55159523H110.71162937a83.2203173 83.2203173 0 0 1-83.2203173-83.2203173V388.44556857a83.2203173 83.2203173 0 0 1 78.31031808-83.0816165l5.60350208-0.1387008 224.9167781 3.74491478 179.67266474-189.13204224c39.22451001-41.33275762 109.2960165-13.78683221 109.29601764 42.94168348z"  ></path></symbol><symbol id="icon-play" viewBox="0 0 1024 1024"><path d="M512 8.97941504c277.81531056 0 503.02058496 225.20527562 503.02058496 503.02058496s-225.20527562 503.02058496-503.02058496 503.02058496S8.97941504 789.81531056 8.97941504 512 234.18468944 8.97941504 512 8.97941504z m-70.12698734 325.48390806c-26.63050141 0-48.23079685 21.60029545-48.23079807 48.23079686v253.81827015a48.23079685 48.23079685 0 0 0 74.26951062 40.56712988l199.46245688-128.1518906a48.23079685 48.23079685 0 0 0-0.35507283-81.37097702l-199.46245689-125.66637833a48.23079685 48.23079685 0 0 0-25.71322921-7.42695094z"  ></path></symbol></svg>',function(t){var s=(s=document.getElementsByTagName("script"))[s.length-1],e=s.getAttribute("data-injectcss"),s=s.getAttribute("data-disable-injectsvg");if(!s){var i,a,o,r,l,u=function(c,d){d.parentNode.insertBefore(c,d)};if(e&&!t.__iconfont__svg__cssinject__){t.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(c){console&&console.log(c)}}i=function(){var c,d=document.createElement("div");d.innerHTML=t._iconfont_svg_string_1017934,(d=d.getElementsByTagName("svg")[0])&&(d.setAttribute("aria-hidden","true"),d.style.position="absolute",d.style.width=0,d.style.height=0,d.style.overflow="hidden",d=d,(c=document.body).firstChild?u(d,c.firstChild):c.appendChild(d))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(i,0):(a=function(){document.removeEventListener("DOMContentLoaded",a,!1),i()},document.addEventListener("DOMContentLoaded",a,!1)):document.attachEvent&&(o=i,r=t.document,l=!1,f(),r.onreadystatechange=function(){r.readyState=="complete"&&(r.onreadystatechange=null,n())})}function n(){l||(l=!0,o())}function f(){try{r.documentElement.doScroll("left")}catch{return void setTimeout(f,50)}n()}}(window);let te=class{constructor(){this.__map={}}beforeEach(e){this.__interceptor=e}on(e,s){const i=Array.isArray(e)?e:[e];for(const a of i){this.__map[a]=this.__map[a]||[];const o=this.__map[a];o&&o.push(s)}return this}emit(e,s,i){this.__interceptor!==void 0?this.__interceptor(e,()=>{this.__emit(e,s),i&&i()}):(this.__emit(e,s),i&&i())}__emit(e,s){const i=this.__map[e];if(Array.isArray(i)&&(i!=null&&i.length))for(const a of i)a(s,e);this.event=s}off(e,s){const i=this.__map[e];if(i!==void 0)if(s===void 0)delete this.__map[e];else{const a=i.findIndex(o=>o===s);i.splice(a,1)}}destroy(){this.__map={}}};const S="clientX",B="clientY",se=16,$="start",ie="move",q="cancel",G="end",ae="left",oe="right",ne="up",re="down",le={4:"start",5:"move",1:"end",3:"cancel"};function ue(t){return le[t]}function de(t,e,s){const i={1:{0:{move:4},4:{move:5,end:1,cancel:3},5:{move:5,end:1,cancel:3}},0:{4:{move:2,end:1,cancel:3},5:{start:2,move:2,end:1,cancel:3}}}[Number(t)][e];return i!==void 0&&i[s]||0}function he(t){[1,3,2].includes(t.state)&&(t.state=0)}function ce(t){return[5,1,3].includes(t)}function me(t){if(t.disabled)return t.state=0,!0}function pe(t,e){return Object.assign(Object.assign(Object.assign({},t),e),{state:0,disabled:!1})}function F(){let t,e,s,i,a=0;return function(o){if(t=e,o!==void 0){a=Number.MAX_SAFE_INTEGER>a?++a:1;const r=function(n,f){const{phase:c,points:d,changedPoints:y,nativeEvent:P}=n,_=d.length,M=$===c,C=G===c&&_===0||q===c,K=Date.now(),{x:V,y:A}=W(d)||W(y),{currentTarget:N}=P;return Object.assign(n,{id:f,x:V,y:A,timestamp:K,isStart:M,isEnd:C,pointLength:_,currentTarget:N,getOffset(Q=N){const O=Q.getBoundingClientRect();return{x:V-Math.round(O.left),y:A-Math.round(O.top)}}})}(o,a);e=r;const{isStart:l,pointLength:u}=r;return l&&(s=r,t=void 0,i=1<u?r:void 0),Object.assign(Object.assign({},r),{prevInput:t,startMultiInput:i,startInput:s})}}}function W(t){const{length:e}=t;if(0<e){if(e===1){const{clientX:i,clientY:a}=t[0];return{x:Math.round(i),y:Math.round(a)}}const s=t.reduce((i,a)=>(i.x+=a[S],i.y+=a[B],i),{x:0,y:0});return{x:Math.round(s.x/e),y:Math.round(s.y/e)}}}function Y(t,e,s,i){const a={};for(const r in s)["target","currentTarget","type"].includes(r)||(a[r]=s[r]);let o;return document.createEvent?(o=document.createEvent("HTMLEvents"),o.initEvent(t,i==null?void 0:i.bubbles,i==null?void 0:i.cancelable)):o=new Event(t,i),Object.assign(o,a,{match:()=>s.targets&&0<s.targets.length&&s.targets.every(r=>o.currentTarget.contains(r))}),e.dispatchEvent(o)}function fe(t,e){const{preventDefault:s}=e;return i=s,Object.prototype.toString.call(i)==="[object Function]"?s(t):!!s;var i}const z=["touchstart","touchmove","touchend","touchcancel","mousedown"],H=["mousemove","mouseup"],ge={domEvents:{bubbles:!0,cancelable:!0},preventDefault:t=>{if(t.target&&"tagName"in t.target){const{tagName:e}=t.target;return!/^(?:INPUT|TEXTAREA|BUTTON|SELECT)$/.test(e)}return!1}};class ye extends te{constructor(e,s){super(),this.v="2.1.3",this.__computeFunctionList=[],this.__computeFunctionCreatorList=[],this.__pluginContexts=[],this.__isIgnoreMouse=!1,this.el=e,this.c={},this.__options=Object.assign(Object.assign({},ge),s);const i=function(o){const r=F();return function(l){const u=[],n=[];Array.from(l.touches).forEach(({clientX:c,clientY:d,target:y})=>{o!=null&&o.contains(y)&&(u.push(y),n.push({clientX:c,clientY:d,target:y}))});const f=Array.from(l.changedTouches).map(({clientX:c,clientY:d,target:y})=>({clientX:c,clientY:d,target:y}));return r({phase:l.type.replace("touch",""),changedPoints:f,points:n,nativeEvent:l,target:l.target,targets:u})}}(this.el),a=function(){let o,r=!1,l=null;const u=F();return function(n){const{clientX:f,clientY:c,type:d,button:y,target:P}=n;let _,M=[{clientX:f,clientY:c,target:P}];if(d==="mousedown"&&y===0)l=P,r=!0,_="start";else{if(!r)return;d==="mousemove"?_="move":d==="mouseup"&&(M=[],_="end",r=!1)}const C=o||[{clientX:f,clientY:c,target:P}];if(o=[{clientX:f,clientY:c,target:P}],_!==void 0)return u({phase:_,changedPoints:C,points:M,target:l,targets:[l],nativeEvent:n})}}();if(this.__inputCreatorMap={touchstart:i,touchmove:i,touchend:i,touchcancel:i,mousedown:a,mousemove:a,mouseup:a},this.on("at:after",o=>{const{target:r,__type:l}=o,{domEvents:u}=this.__options;u&&this.el!==void 0&&r&&(Y(l,r,o,u),Y("at:after",r,o,u))}),e!==void 0){e.style.webkitTapHighlightColor="rgba(0,0,0,0)";let o=!1;try{const r={};Object.defineProperty(r,"passive",{get(){o=!0}}),window.addEventListener("_",()=>{},r)}catch{}this.on("u",function(r,l,u){return z.forEach(n=>{r.addEventListener(n,l,u)}),H.forEach(n=>{window.addEventListener(n,l,u)}),()=>{z.forEach(n=>{r.removeEventListener(n,l)}),H.forEach(n=>{window.removeEventListener(n,l)})}}(e,this.catchEvent.bind(this),this.__options.preventDefault===!1&&o?{passive:!0}:{passive:!1}))}}use(e,s){this.__pluginContexts.push(e(this,s))}catchEvent(e){const s=this.__inputCreatorMap[e.type](e);if(s!==void 0){const i=()=>e.stopPropagation(),a=()=>e.stopImmediatePropagation(),o=()=>e.preventDefault();if(fe(e,this.__options))o();else if(e.type==="touchstart"?this.__isIgnoreMouse=!0:e.type==="touchmove"&&(this.__isIgnoreMouse=!1),this.__isIgnoreMouse&&e.type.startsWith("mouse"))return void(e.type==="mouseup"&&(this.__isIgnoreMouse=!1));this.emit("input",s),this.emit2(`at:${s.phase}`,s,{});const r={};this.__computeFunctionList.forEach(l=>{const u=l(s,r);if(u!==void 0)for(const n in u)r[n]=u[n]}),this.emit("computed",Object.assign(Object.assign(Object.assign({},s),r),{stopPropagation:i,stopImmediatePropagation:a,preventDefault:o}))}}compute(e,s){for(const i of e)this.__computeFunctionCreatorList.includes(i)||(this.__computeFunctionCreatorList.push(i),this.__computeFunctionList.push(i()));this.on("computed",s)}beforeEach(e){super.beforeEach((s,i)=>{var a;!((a=this.c)===null||a===void 0)&&a.name?e(s,i):i()})}get(e){return this.__pluginContexts.find(s=>e===s.name)}set(e){this.__options=Object.assign(Object.assign({},this.__options),e)}emit2(e,s,i){this.c=i,this.emit(e,Object.assign(Object.assign({},s),{type:e}),()=>{this.emit("at:after",Object.assign(Object.assign({},s),{name:e,__type:e}))})}destroy(){this.emit("u"),super.destroy()}}var ve=t=>Math.sqrt(t.x*t.x+t.y*t.y),_e=t=>t/Math.PI*180,J=(t,e)=>{if(t!==0||e!==0)return Math.abs(t)>=Math.abs(e)?0<t?oe:ae:0<e?re:ne};function Pe(){return function(t){const{prevInput:e}=t;let s=0,i=0,a=0;if(e!==void 0&&(s=t.x-e.x,i=t.y-e.y,s!==0||i!==0)){const o=Math.sqrt(Math.pow(s,2)+Math.pow(i,2));a=Math.round(_e(Math.acos(Math.abs(s)/o)))}return{deltaX:s,deltaY:i,deltaXYAngle:a}}}function be(){let t,e=0,s=0,i=0,a=0,o=0;return function(r){const{phase:l,startInput:u}=r;return $===l?(e=0,s=0,i=0,a=0,o=0):ie===l&&(e=Math.round(r.points[0][S]-u.points[0][S]),s=Math.round(r.points[0][B]-u.points[0][B]),i=Math.abs(e),a=Math.abs(s),o=Math.round(ve({x:i,y:a})),t=J(e,s)),{displacementX:e,displacementY:s,distanceX:i,distanceY:a,distance:o,overallDirection:t}}}function we(){let t,e,s=0,i=0,a=0,o=0;return function(r){if(r!==void 0){e=e||r.startInput;const l=r.timestamp-e.timestamp;if(se<l){const u=r.x-e.x,n=r.y-e.y;a=Math.round(u/l*100)/100,o=Math.round(n/l*100)/100,s=Math.abs(a),i=Math.abs(o),t=J(u,n),e=r}}return{velocityX:s,velocityY:i,speedX:a,speedY:o,direction:t}}}const xe={name:"pan",threshold:10,pointLength:1};function Le(t,e){const s=pe(xe,e);return t.compute([we,be,Pe],i=>{if(he(s),me(s))return;const a=function(){const{pointLength:o,distance:r}=i;return s.pointLength===o&&s.threshold<=r}();if(s.state=de(a,s.state,i.phase),a||ce(s.state)){const{name:o}=s;t.emit2(o,i,s),t.emit2(o+ue(s.state),i,s),![G,q].includes(i.phase)&&i.direction&&t.emit2(o+i.direction,i,s)}}),s}const Me={name:"AudioPlayer",inheritAttrs:!1,props:{audioList:{require:!0,default:()=>[],type:Array},showPlayButton:{default:!0,type:Boolean},showPrevButton:{default:!0,type:Boolean},showNextButton:{default:!0,type:Boolean},showVolumeButton:{default:!0,type:Boolean},showProgressBar:{default:!0,type:Boolean},beforePlay:{default:null,type:Function},beforePrev:{default:null,type:Function},beforeNext:{default:null,type:Function},isLoop:{type:Boolean,default:!0},isAutoPlayNext:{type:Boolean,default:!0},progressInterval:{default:1e3,type:Number},showPlaybackRate:{type:Boolean,default:!0},showPlayLoading:{type:Boolean,default:!0},playbackRates:{type:Array,default:()=>[.5,1,1.5,2]},themeColor:{type:String,default:"#EC4141"},disabledProgressDrag:{type:Boolean,default:!1},disabledProgressClick:{type:Boolean,default:!1}},emits:["pause","play-prev","play-next","timeupdate","loadedmetadata","ended","progress-start","progress-end","progress-move","progress-click","playing","play","play-error"],data(){return{isIOS:/iPhone|iPad|iPod/i.test(window.navigator.userAgent),isPlaying:!1,isDragging:!1,isDraggingVolume:!1,isShowErrorMessage:!1,isLoading:!1,isShowVolume:!1,isShowRates:!1,timer:null,noticeMessage:"",duration:"",currentPlayIndex:0,currentTime:"",currentVolume:1,playbackRate:1,at:null}},computed:{currentTimeFormatted(){return this.currentTime?this.formatTime(this.currentTime):"00:00"},durationFormatted(){return this.duration?this.formatTime(this.duration):"00:00"}},mounted(){this.at=new ye(this.$el,{preventDefault:!1}),this.at.use(Le)},beforeUnmount(){this.at.destroy(),this.pause()},methods:{updateMediaMetadata(){"mediaSession"in navigator&&(navigator.mediaSession.metadata=new MediaMetadata({title:this.audioList[this.currentPlayIndex].title,artist:this.audioList[this.currentPlayIndex].artist,album:this.audioList[this.currentPlayIndex].album,artwork:this.audioList[this.currentPlayIndex].artwork}),navigator.mediaSession.setActionHandler("play",()=>{this.play()}),navigator.mediaSession.setActionHandler("pause",()=>{this.pause()}),navigator.mediaSession.setActionHandler("previoustrack",()=>{this.playPrev()}),navigator.mediaSession.setActionHandler("nexttrack",()=>{this.playNext()}))},handleVolumeIconTouchstart(){this.isShowVolume=!this.isShowVolume},handleVolumePanmove(t){let e=this.$refs.playVolumeWrap.getBoundingClientRect(),s=t.y,i,a;i=Math.round(e.bottom-s),a=i/this.$refs.playVolumeWrap.offsetHeight,a=Math.min(a,1),a=Math.max(a,0),this.$refs.audio.volume=a,this.currentVolume=a},handleVolumePanend(){this.isShowVolume=!1},handleSetPlaybackRate(t){this.playbackRate=+t,this.$refs.audio.playbackRate=+t,this.isShowRates=!1},handleShowErrorMessage(t={}){this.noticeMessage=t.message,this.isShowErrorMessage=!0,window.setTimeout(()=>{this.isShowErrorMessage=!1},t.duration||3e3)},onLoadedmetadata(t){this.duration=this.$refs.audio.duration,this.$emit("loadedmetadata",t)},onTimeUpdate(t){this.$emit("timeupdate",t)},formatTime(t){let e;return e=Math.floor(t/60),t=Math.ceil(t%60),e+="",t+="",e=e.length===1?"0"+e:e,t=t.length===1?"0"+t:t,e+":"+t},onEnded(t){window.setTimeout(()=>{this.pause(),this.$emit("ended",t),this.isLoop&&this.isAutoPlayNext&&this.playNext()},1e3)},handleProgressPanstart(t){this.disabledProgressDrag||(this.isDragging=!0,this.$emit("progress-start",t))},handleProgressPanend(t){this.disabledProgressDrag||(this.$refs.audio.currentTime=this.currentTime,this.play(),this.isDragging=!1,this.$emit("progress-end",t))},handleProgressPanmove(t){if(this.disabledProgressDrag)return;let e=t.x,s=t.target.getBoundingClientRect(),a=parseInt(getComputedStyle(t.target).left)+(e-s.left);a=Math.min(a,this.$refs.audioProgressWrap.offsetWidth),a=Math.max(a,0),this.setPointPosition(a),this.$refs.audioProgress.style.width=a+"px",this.currentTime=a/this.$refs.audioProgressWrap.offsetWidth*this.duration,this.$emit("progress-move",t)},handleClickProgressWrap(t){if(this.disabledProgressClick)return;let e=t.target,s=t.offsetX;e!==this.$refs.audioProgressPoint&&(this.currentTime=s/this.$refs.audioProgressWrap.offsetWidth*this.duration,this.$refs.audio.currentTime=this.currentTime,this.setPointPosition(s),this.$refs.audioProgress.style.width=s+"px",this.play(),this.$emit("progress-click",t))},setPointPosition(t){this.$refs.audioProgressPoint.style.left=t-this.$refs.audioProgressPoint.offsetWidth/2+"px"},playing(){if(this.isDragging)return;let t=this.$refs.audio.currentTime/this.$refs.audio.duration*this.$refs.audioProgressWrap.offsetWidth;this.currentTime=this.$refs.audio.currentTime,this.$refs.audioProgress.style.width=t+"px",this.setPointPosition(t),this.$emit("playing")},play(){this.isLoading=!0;let t=()=>{this.$refs.audio.play().then(()=>{this.$nextTick(()=>{this.timer?this.currentTime=this.$refs.audio.currentTime:this.timer=window.setInterval(this.playing,this.progressInterval),this.isPlaying=!0,this.isLoading=!1,this.$refs.audio.playbackRate=this.playbackRate}),this.$emit("play")}).catch(e=>{this.handleShowErrorMessage({message:e.message}),e.code===9&&this.isAutoPlayNext&&window.setTimeout(()=>{this.playNext()},3e3),this.isLoading=!1,this.$emit("play-error",e)}),this.updateMediaMetadata()};if(this.isIOS&&(console.log("为了解决 iOS 设备接口异步请求后出现无法播放问题，请无视 The play() request was interrupted by a call to pause() 错误"),this.$refs.audio.play(),this.$refs.audio.pause()),this.beforePlay){this.beforePlay(e=>{e!==!1&&t()});return}t()},pause(){this.$refs.audio.pause(),this.$nextTick(()=>{this.clearTimer(),this.isPlaying=!1,this.$emit("pause")})},playPrev(){if(this.currentPlayIndex<=0&&!this.isLoop)return;this.clearTimer();let t=()=>{this.currentPlayIndex<=0&&this.isLoop?this.currentPlayIndex=this.audioList.length-1:this.currentPlayIndex--,this.$nextTick(()=>{this.play(),this.$emit("play-prev")})};if(this.beforePrev){this.beforePrev(e=>{e!==!1&&t()});return}t()},clearTimer(){window.clearInterval(this.timer),this.timer=null},playNext(){if(this.currentPlayIndex+1>=this.audioList.length&&!this.isLoop)return;this.clearTimer();let t=()=>{this.currentPlayIndex+1>=this.audioList.length&&this.isLoop?this.currentPlayIndex=0:this.currentPlayIndex++,this.$nextTick(()=>{this.play(),this.$emit("play-next")})};if(this.beforeNext){this.beforeNext(e=>{e!==!1&&t()});return}t()}}},ke={class:"audio-player"},Te={class:"audio__btn-wrap"},Ce=["onClick"],Ee=h("svg",{class:"audio__play-icon","aria-hidden":"true"},[h("use",{"xlink:href":"#icon-play-prev"})],-1),Ie={key:2,class:"audio__play-loading"},Se=h("svg",{class:"audio__play-icon","aria-hidden":"true"},[h("use",{"xlink:href":"#icon-play"})],-1),Be=h("svg",{class:"audio__play-icon","aria-hidden":"true"},[h("use",{"xlink:href":"#icon-pause"})],-1),Ve=h("svg",{class:"audio__play-icon","aria-hidden":"true"},[h("use",{"xlink:href":"#icon-play-next"})],-1),Ae={key:5,class:"audio__play-volume-icon-wrap"},Ne=["xlink:href"],Oe={class:"audio__time-wrap"},je={class:"audio__current-time"},Re={class:"audio__duration"},De=["src"];function Xe(t,e,s,i,a,o){var r,l,u;return m(),p("div",ke,[h("div",Te,[s.showPlaybackRate?(m(),p("div",{key:0,class:"audio__play-rate",style:g({color:s.themeColor})},[h("span",{onClick:e[0]||(e[0]=v(n=>a.isShowRates=!a.isShowRates,["stop"]))},b(a.playbackRate.toFixed(1)+"x"),1),I(R,{name:"fade-rate"},{default:j(()=>[x(h("div",{class:"audio__play-rate__dropdown",style:g({backgroundColor:s.themeColor})},[(m(!0),p(E,null,X(s.playbackRates,n=>(m(),p("div",{key:"pr_"+n,onClick:v(f=>o.handleSetPlaybackRate(n),["stop"])},b(n.toFixed(1)+"x"),9,Ce))),128))],4),[[L,a.isShowRates]])]),_:1})],4)):w("",!0),s.showPrevButton?(m(),p("div",{key:1,class:D(["audio__play-prev",{disable:!s.isLoop&&a.currentPlayIndex===0}]),onClick:e[1]||(e[1]=v((...n)=>o.playPrev&&o.playPrev(...n),["stop"])),style:g({color:s.themeColor})},[k(t.$slots,"play-prev",{},()=>[Ee])],6)):w("",!0),a.isLoading&&s.showPlayLoading?(m(),p("div",Ie,[(m(),p(E,null,X(8,n=>h("span",{key:n,style:g({backgroundColor:s.themeColor})},null,4)),64))])):(m(),p(E,{key:3},[!a.isPlaying&&s.showPlayButton?(m(),p("div",{key:0,class:"audio__play-start",onClick:e[2]||(e[2]=v((...n)=>o.play&&o.play(...n),["stop"])),style:g({color:s.themeColor})},[k(t.$slots,"play-start",{},()=>[Se])],4)):s.showPlayButton?(m(),p("div",{key:1,class:"audio__play-pause",onClick:e[3]||(e[3]=v((...n)=>o.pause&&o.pause(...n),["stop"])),style:g({color:s.themeColor})},[k(t.$slots,"play-pause",{},()=>[Be])],4)):w("",!0)],64)),s.showNextButton?(m(),p("div",{key:4,class:D(["audio__play-next",{disable:!s.isLoop&&a.currentPlayIndex===s.audioList.length-1}]),onClick:e[4]||(e[4]=v((...n)=>o.playNext&&o.playNext(...n),["stop"])),style:g({color:s.themeColor})},[k(t.$slots,"play-next",{},()=>[Ve])],6)):w("",!0),s.showVolumeButton?(m(),p("div",Ae,[(m(),p("svg",{class:"audio__play-icon","aria-hidden":"true",style:g({color:s.themeColor}),onClick:e[5]||(e[5]=v((...n)=>o.handleVolumeIconTouchstart&&o.handleVolumeIconTouchstart(...n),["stop"]))},[h("use",{"xlink:href":a.currentVolume?"#icon-volume":"#icon-volume-no"},null,8,Ne)],4)),I(R,{name:"fade-volume"},{default:j(()=>[x(h("div",{ref:"playVolumeWrap",class:"audio__play-volume-wrap",onClick:e[6]||(e[6]=v((...n)=>o.handleVolumePanmove&&o.handleVolumePanmove(...n),["stop"])),onPanmove:e[7]||(e[7]=(...n)=>o.handleVolumePanmove&&o.handleVolumePanmove(...n)),onPanend:e[8]||(e[8]=(...n)=>o.handleVolumePanend&&o.handleVolumePanend(...n))},[h("div",{ref:"playVolume",class:"audio__play-volume",style:g({height:a.currentVolume*100+"%",backgroundColor:s.themeColor})},null,4)],544),[[L,a.isShowVolume]])]),_:1})])):w("",!0),x(h("div",{class:"audio__notice"},b(a.noticeMessage),513),[[L,a.isShowErrorMessage]])]),x(h("div",{ref:"audioProgressWrap",class:"audio__progress-wrap",onClick:e[12]||(e[12]=v((...n)=>o.handleClickProgressWrap&&o.handleClickProgressWrap(...n),["stop"]))},[h("div",{ref:"audioProgress",class:"audio__progress",style:g({backgroundColor:s.themeColor})},null,4),h("div",{ref:"audioProgressPoint",class:"audio__progress-point",style:g({backgroundColor:s.themeColor,boxShadow:`0 0 10px 0 ${s.themeColor}`}),onPanstart:e[9]||(e[9]=(...n)=>o.handleProgressPanstart&&o.handleProgressPanstart(...n)),onPanend:e[10]||(e[10]=(...n)=>o.handleProgressPanend&&o.handleProgressPanend(...n)),onPanmove:e[11]||(e[11]=(...n)=>o.handleProgressPanmove&&o.handleProgressPanmove(...n))},null,36)],512),[[L,s.showProgressBar]]),x(h("div",Oe,[h("div",je,b(o.currentTimeFormatted),1),h("div",Re,b(o.durationFormatted),1)],512),[[L,s.showProgressBar]]),h("audio",Z({ref:"audio",class:"audio-player__audio",src:((r=s.audioList)==null?void 0:r[a.currentPlayIndex])||((u=(l=s.audioList)==null?void 0:l[a.currentPlayIndex])==null?void 0:u.src)},t.$attrs,{onEnded:e[13]||(e[13]=(...n)=>o.onEnded&&o.onEnded(...n)),onTimeupdate:e[14]||(e[14]=(...n)=>o.onTimeUpdate&&o.onTimeUpdate(...n)),onLoadedmetadata:e[15]||(e[15]=(...n)=>o.onLoadedmetadata&&o.onLoadedmetadata(...n))})," 浏览器太老咯，请升级浏览器吧~ ",16,De)])}const T=U(Me,[["render",Xe]]);T.install=t=>{t.component(T.name,T)};const Fe={components:{AudioPlayer:T},data(){return{currentAudioName:"",audioList:[{src:"http://music.163.com/song/media/outer/url?id=317151.mp3",title:"Audio Title 1",artist:"Artist Name 1",album:"Album Name 1",artwork:[{src:"https://upload.jianshu.io/users/upload_avatars/1696356/c358e43854eb?imageMogr2/auto-orient/strip|imageView2/1/w/96/h/96/format/webp",sizes:"512x512",type:"image/jpg"}]},{src:"http://downsc.chinaz.net/Files/DownLoad/sound1/201906/11582.mp3",title:"Audio Title 2"}]}},methods:{handleBeforePlay(t){this.currentAudioName=this.audioList[this.$refs.audioPlayer.currentPlayIndex].title,t()}}},We={class:"name"};function Ye(t,e,s,i,a,o){var l;const r=ee("audio-player");return m(),p("div",null,[h("div",We,b(a.currentAudioName||a.audioList[0].title),1),I(r,{ref:"audioPlayer","audio-list":(l=a.audioList)==null?void 0:l.map(u=>u.src),"before-play":o.handleBeforePlay,"show-play-loading":!1},null,8,["audio-list","before-play"])])}const Ue=U(Fe,[["render",Ye],["__scopeId","data-v-33d2bf8d"]]);export{Ue as default};
